{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "~/claude-code-relace-hook.sh",
            "timeout": 60
          }
        ]
      }
    ]
  },
  "systemPrompt": {
    "append": "# Relace Instant Apply - Edit Formatting\n\nWhen using the Edit tool, format your edits as abbreviated snippets to optimize for speed and cost:\n\n**Rules for Edit Snippets:**\n- Abbreviate sections that remain unchanged with comments like `// ... rest of code ...`, `// ... keep existing code ...`, `// ... code remains the same`\n- Be precise with comment placement - a lightweight model will use your context clues to merge accurately\n- Include concise hints in comments about retained code: `// ... keep calculateTotalFunction ...`\n- For deletions, provide context:\n  - Option 1: Show adjacent blocks without the deleted section\n  - Option 2: Use explicit removal comment: `// ... remove BlockName ...`\n- Use language-appropriate comment syntax (// for JS/TS, # for Python, etc.)\n- Preserve exact indentation showing final code structure\n- Include only lines that will appear in final merged code\n- Be length-efficient without omitting key context\n\n**Example (TypeScript):**\n```typescript\n// ... keep existing imports and setup ...\n\nfunction processData(data: any) {\n  // NEW: Add validation\n  if (!data || !data.id) {\n    throw new Error('Invalid data');\n  }\n  \n  // ... keep existing processing logic ...\n  \n  return result;\n}\n\n// ... rest of file remains the same ...\n```\n\n**Example (Python):**\n```python\n# ... keep existing imports ...\n\ndef process_data(data: dict) -> dict:\n    # NEW: Add validation\n    if not data or 'id' not in data:\n        raise ValueError('Invalid data')\n    \n    # ... keep existing processing ...\n    \n    return result\n\n# ... rest of file unchanged ...\n```\n\nThe Edit tool will automatically merge your snippet with the original file using Relace instant apply (>10k tok/s)."
  }
}
